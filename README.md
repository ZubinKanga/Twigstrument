# Twigstrument-
Code for the Twigstrument, an adaptation of Michael Ridge's Earth Block Instrument (https://mridge.bandcamp.com/merch/metal-earth-block-instrument) by Caitlin Rowley. This project was begun on 2024-08-04 and has Michael Ridge's permission to adapt his concept.

Ridge's Earth Block Instrument provided a model for securely attaching twigs to a box using a metal earth block, so that they can be bowed. The resulting sounds are then picked up by a contact microphone secured inside the box. Ridge’s instrument would then feed the resulting audio signal out to guitar pedals to add and manipulate effects.

The Twigstrument builds on this work by embedding a Bela Mini ultra-low latency audio nanocomputer inside the box, which can use Pure Data (Pd) code to provide effects like a guitar pedal and other functionality, but in a more compact, contained form which allows the performer significantly greater mobility when performing than Ridge’s original version, which required the performer to be near their guitar pedals if they wanted to make changes to the sound. Moving effects and other controls into the instrument itself, coupled with the Bela Mini’s ability to run from a 5V mobile phone power bank gives the possibility of completely independent movement while performing, especially if paired with an ultra-portable amplifier (e.g. Positive Grid’s Spark GO). The Twigstrument can be played from anywhere in a performance space, outdoors, or even in an ambulatory performance situation such as a parade.

A Bela Trill Bar touch control is secured to the outside of the box, connected to the Bela Mini. This touch control enables parameters in the code to be adjusted on the instrument itself (currently mute/unmute, a volume control and a reset function, all on the one Trill Bar), and a simple homemade circuit (based on the tutorial here: https://learn.bela.io/tutorials/pure-data/connecting/digital-output/) adds two indicator LEDs to give the performer feedback about the instrument which might not otherwise be easily discernible during a performance - at the moment these indicate the state of the mute function and when the reset function has been triggered.

At present the only effect in use is reverb, which is an adaptation of the Pd reverb effect made available by Pierre Massat on his GuitarExtended blog (https://guitarextended.wordpress.com/2012/01/24/reverb-effect-in-pure-data/). This abstraction requires the installation of the freeverb~ library, which can be found in a version compiled for Bela nanocomputers here: https://github.com/BelaPlatform/Bela/issues/621
Currently, the parameters of the reverb are fixed in the code, but I intend for future development of the instrument to incorporate appropriate hardware to allow onboard control of effect parameters.

The Twigstrument's Pd code has been developed as part of a research project for Cyborg Soloists, which is investigating how LLMs might be helpful for learning Pd, specifically working with Anthropic's Claude.ai. The volscale.pd abstraction was largely created by Claude, with some minor corrections and adjustments by me. Claude's contribution to the rest of the code has been mainly in a training and discursive capacity, providing versions of the code that I would then pull apart and critique with the LLM, sometimes finding new-to-me objects and approaches, and helping with troubleshooting my code when it did not behave as I expected. While Claude.ai's assistance with this project has been extremely helpful and developed my understanding of Pd substantially, the only element of the code which is more Claude’s than mine is volscale.pd.

The Twigstrument was created for use in Bastard Assignments' 2025 musiktheater piece PIGSPIGSPIGS, with the support of Cyborg Soloists, Borealis - a festival for experimental music, SPOR Festival and Wigmore Hall. Cyborg Soloists is supported by a UKRI Future Leaders Fellowship and Royal Holloway, University of London. My thanks to Michael Ridge and Pierre Massat for their work which has contributed to this instrument.
